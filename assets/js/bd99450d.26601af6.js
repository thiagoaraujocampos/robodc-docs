"use strict";(globalThis.webpackChunkrobodc_docs=globalThis.webpackChunkrobodc_docs||[]).push([[402],{7852:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"robo-1gen/software/funcionalidades","title":"Funcionalidades Principais","description":"Navega\xe7\xe3o Aut\xf4noma","source":"@site/docs/robo-1gen/software/funcionalidades.md","sourceDirName":"robo-1gen/software","slug":"/robo-1gen/software/funcionalidades","permalink":"/robodc-docs/robo-1gen/software/funcionalidades","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/robo-1gen/software/funcionalidades.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Arquitetura ROS 1","permalink":"/robodc-docs/robo-1gen/software/arquitetura-ros1"},"next":{"title":"Implanta\xe7\xe3o e Opera\xe7\xe3o","permalink":"/robodc-docs/robo-1gen/implantacao"}}');var i=a(4848),r=a(8453);const l={sidebar_position:2},o="Funcionalidades Principais",d={},c=[{value:"Navega\xe7\xe3o Aut\xf4noma",id:"navega\xe7\xe3o-aut\xf4noma",level:2},{value:"SLAM (Mapeamento e Localiza\xe7\xe3o Simult\xe2neos)",id:"slam-mapeamento-e-localiza\xe7\xe3o-simult\xe2neos",level:3},{value:"Caracter\xedsticas",id:"caracter\xedsticas",level:4},{value:"Uso",id:"uso",level:4},{value:"Par\xe2metros Principais",id:"par\xe2metros-principais",level:4},{value:"Localiza\xe7\xe3o (AMCL)",id:"localiza\xe7\xe3o-amcl",level:3},{value:"Caracter\xedsticas",id:"caracter\xedsticas-1",level:4},{value:"Funcionamento",id:"funcionamento",level:4},{value:"Planejamento Global",id:"planejamento-global",level:3},{value:"Caracter\xedsticas",id:"caracter\xedsticas-2",level:4},{value:"Comportamento",id:"comportamento",level:4},{value:"Planejamento Local (DWA)",id:"planejamento-local-dwa",level:3},{value:"Caracter\xedsticas",id:"caracter\xedsticas-3",level:4},{value:"Par\xe2metros de Velocidade",id:"par\xe2metros-de-velocidade",level:4},{value:"Comportamento de Recovery",id:"comportamento-de-recovery",level:4},{value:"Detec\xe7\xe3o e Desvio de Obst\xe1culos",id:"detec\xe7\xe3o-e-desvio-de-obst\xe1culos",level:2},{value:"Costmap 2D",id:"costmap-2d",level:3},{value:"Costmap Local (Planejamento Local)",id:"costmap-local-planejamento-local",level:4},{value:"Costmap Global (Planejamento Global)",id:"costmap-global-planejamento-global",level:4},{value:"Zona de Seguran\xe7a",id:"zona-de-seguran\xe7a",level:3},{value:"Fus\xe3o Sensorial (Robot Localization)",id:"fus\xe3o-sensorial-robot-localization",level:2},{value:"Extended Kalman Filter (EKF)",id:"extended-kalman-filter-ekf",level:3},{value:"Fontes de Dados",id:"fontes-de-dados",level:4},{value:"Configura\xe7\xe3o do EKF",id:"configura\xe7\xe3o-do-ekf",level:4},{value:"Resultados",id:"resultados",level:4},{value:"Processamento de Imagem (B\xe1sico)",id:"processamento-de-imagem-b\xe1sico",level:2},{value:"Funcionalidades Implementadas",id:"funcionalidades-implementadas",level:3},{value:"Detec\xe7\xe3o de Cor",id:"detec\xe7\xe3o-de-cor",level:4},{value:"Detec\xe7\xe3o de Linhas (Hough Transform)",id:"detec\xe7\xe3o-de-linhas-hough-transform",level:4},{value:"Detec\xe7\xe3o de ArUco Markers",id:"detec\xe7\xe3o-de-aruco-markers",level:4},{value:"Telopera\xe7\xe3o",id:"telopera\xe7\xe3o",level:2},{value:"Controle por Teclado",id:"controle-por-teclado",level:3},{value:"Controle por Joystick (Opcional)",id:"controle-por-joystick-opcional",level:3},{value:"Limita\xe7\xf5es Funcionais",id:"limita\xe7\xf5es-funcionais",level:2},{value:"Processamento de LIDAR",id:"processamento-de-lidar",level:3},{value:"Filtragem de Dados",id:"filtragem-de-dados",level:4},{value:"Extra\xe7\xe3o de Features",id:"extra\xe7\xe3o-de-features",level:4},{value:"Fus\xe3o Sensorial",id:"fus\xe3o-sensorial",level:3},{value:"Estrat\xe9gias de Seguran\xe7a/Fallback",id:"estrat\xe9gias-de-seguran\xe7afallback",level:2},{value:"N\xedveis de Seguran\xe7a",id:"n\xedveis-de-seguran\xe7a",level:3},{value:"N\xedvel 1: Opera\xe7\xe3o Normal",id:"n\xedvel-1-opera\xe7\xe3o-normal",level:4},{value:"N\xedvel 2: Modo Degradado",id:"n\xedvel-2-modo-degradado",level:4},{value:"N\xedvel 3: Parada de Seguran\xe7a",id:"n\xedvel-3-parada-de-seguran\xe7a",level:4},{value:"Sistema de Watchdog",id:"sistema-de-watchdog",level:3},{value:"Recupera\xe7\xe3o de Falhas",id:"recupera\xe7\xe3o-de-falhas",level:3},{value:"Falha de Sensor",id:"falha-de-sensor",level:4},{value:"Falha de Comunica\xe7\xe3o",id:"falha-de-comunica\xe7\xe3o",level:4},{value:"Falha de Bateria",id:"falha-de-bateria",level:4},{value:"Limites Operacionais",id:"limites-operacionais",level:3},{value:"Limites F\xedsicos",id:"limites-f\xedsicos",level:4},{value:"Limites Ambientais",id:"limites-ambientais",level:4},{value:"Modo Manual de Emerg\xeancia",id:"modo-manual-de-emerg\xeancia",level:3},{value:"Ativa\xe7\xe3o",id:"ativa\xe7\xe3o",level:4},{value:"Comportamento",id:"comportamento-1",level:4},{value:"Monitoramento e Diagn\xf3stico",id:"monitoramento-e-diagn\xf3stico",level:2},{value:"Sistema de Logs",id:"sistema-de-logs",level:3},{value:"Diagn\xf3stico ROS",id:"diagn\xf3stico-ros",level:3},{value:"M\xe9tricas Monitoradas",id:"m\xe9tricas-monitoradas",level:3},{value:"Testes de Funcionalidades",id:"testes-de-funcionalidades",level:2},{value:"Testes Automatizados",id:"testes-automatizados",level:3},{value:"Cen\xe1rios de Teste",id:"cen\xe1rios-de-teste",level:3}];function t(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"funcionalidades-principais",children:"Funcionalidades Principais"})}),"\n",(0,i.jsx)(n.h2,{id:"navega\xe7\xe3o-aut\xf4noma",children:"Navega\xe7\xe3o Aut\xf4noma"}),"\n",(0,i.jsx)(n.h3,{id:"slam-mapeamento-e-localiza\xe7\xe3o-simult\xe2neos",children:"SLAM (Mapeamento e Localiza\xe7\xe3o Simult\xe2neos)"}),"\n",(0,i.jsxs)(n.p,{children:["O rob\xf4 de 1\xaa gera\xe7\xe3o utiliza ",(0,i.jsx)(n.strong,{children:"GMapping"})," para criar mapas 2D do ambiente."]}),"\n",(0,i.jsx)(n.h4,{id:"caracter\xedsticas",children:"Caracter\xedsticas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Algoritmo"}),": Rao-Blackwellized Particle Filter"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Entrada"}),": Scans do LIDAR (",(0,i.jsx)(n.code,{children:"/scan"}),") + Odometria (",(0,i.jsx)(n.code,{children:"/odom"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sa\xedda"}),": Grade de ocupa\xe7\xe3o 2D (",(0,i.jsx)(n.code,{children:"/map"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resolu\xe7\xe3o"}),": 5 cm por c\xe9lula"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Part\xedculas"}),": 30 part\xedculas"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Taxa de atualiza\xe7\xe3o"}),": 2 Hz"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"uso",children:"Uso"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Iniciar SLAM\r\nroslaunch robodc_bringup slam.launch\r\n\r\n# Teleoperar o rob\xf4 para mapear\r\nrosrun teleop_twist_keyboard teleop_twist_keyboard.py\r\n\r\n# Salvar mapa quando terminar\r\nrosrun map_server map_saver -f ~/robodc_ws/maps/nome_do_mapa\n"})}),"\n",(0,i.jsx)(n.h4,{id:"par\xe2metros-principais",children:"Par\xe2metros Principais"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# GMapping configuration\r\nmap_update_interval: 2.0    # Frequ\xeancia de atualiza\xe7\xe3o do mapa\r\nmaxUrange: 10.0              # Alcance m\xe1ximo do sensor\r\nparticles: 30                # N\xfamero de part\xedculas do filtro\r\nlinearUpdate: 0.5            # Dist\xe2ncia m\xednima para atualizar (metros)\r\nangularUpdate: 0.5           # \xc2ngulo m\xednimo para atualizar (radianos)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"localiza\xe7\xe3o-amcl",children:"Localiza\xe7\xe3o (AMCL)"}),"\n",(0,i.jsxs)(n.p,{children:["Ap\xf3s criar um mapa, o rob\xf4 usa ",(0,i.jsx)(n.strong,{children:"AMCL"})," (Adaptive Monte Carlo Localization) para se localizar."]}),"\n",(0,i.jsx)(n.h4,{id:"caracter\xedsticas-1",children:"Caracter\xedsticas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Algoritmo"}),": Monte Carlo Localization com filtro de part\xedculas adaptativo"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Entrada"}),": Mapa est\xe1tico + scans do LIDAR + odometria"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sa\xedda"}),": Pose estimada do rob\xf4 (",(0,i.jsx)(n.code,{children:"/amcl_pose"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Part\xedculas"}),": 500-2000 (adaptativo)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Precis\xe3o"}),": \xb15 cm, \xb12\xb0"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"funcionamento",children:"Funcionamento"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inicializa\xe7\xe3o"}),': Define pose inicial com "2D Pose Estimate" no RViz']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Predi\xe7\xe3o"}),": Usa odometria para prever movimento"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Corre\xe7\xe3o"}),": Compara scans com mapa para corrigir pose"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Converg\xeancia"}),": N\xfamero de part\xedculas reduz quando confian\xe7a aumenta"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"planejamento-global",children:"Planejamento Global"}),"\n",(0,i.jsxs)(n.p,{children:["Utiliza o pacote ",(0,i.jsx)(n.strong,{children:"move_base"})," com algoritmo ",(0,i.jsx)(n.strong,{children:"Dijkstra"})," modificado (NavFn)."]}),"\n",(0,i.jsx)(n.h4,{id:"caracter\xedsticas-2",children:"Caracter\xedsticas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Algoritmo"}),": NavFn (vers\xe3o otimizada de Dijkstra)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Entrada"}),": Mapa global + pose inicial + objetivo"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sa\xedda"}),": Trajet\xf3ria global (",(0,i.jsx)(n.code,{children:"/move_base/NavfnROS/plan"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Custo"}),": Dist\xe2ncia ao objetivo + penalidade por obst\xe1culos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Toler\xe2ncia ao objetivo"}),": 10 cm"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"comportamento",children:"Comportamento"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# O planejador global:\r\n1. Busca caminho de menor custo no mapa global\r\n2. Considera infla\xe7\xe3o de obst\xe1culos (raio do rob\xf4 + margem)\r\n3. Replaneja quando obst\xe1culos bloqueiam caminho (1 Hz)\r\n4. Publica trajet\xf3ria como sequ\xeancia de waypoints\n"})}),"\n",(0,i.jsx)(n.h3,{id:"planejamento-local-dwa",children:"Planejamento Local (DWA)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Dynamic Window Approach"})," - gera trajet\xf3rias vi\xe1veis em tempo real."]}),"\n",(0,i.jsx)(n.h4,{id:"caracter\xedsticas-3",children:"Caracter\xedsticas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Janela temporal"}),": 3 segundos \xe0 frente"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Amostragem"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Velocidade linear: 20 amostras"}),"\n",(0,i.jsx)(n.li,{children:"Velocidade angular: 40 amostras"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Frequ\xeancia"}),": 10 Hz"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Crit\xe9rios de avalia\xe7\xe3o"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Progresso ao objetivo (peso: 24.0)"}),"\n",(0,i.jsx)(n.li,{children:"Dist\xe2ncia de obst\xe1culos (peso: 32.0)"}),"\n",(0,i.jsx)(n.li,{children:"Manuten\xe7\xe3o de velocidade (peso: 32.0)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"par\xe2metros-de-velocidade",children:"Par\xe2metros de Velocidade"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"max_vel_x: 0.5              # m/s\r\nmin_vel_x: 0.1              # m/s\r\nmax_vel_theta: 1.0          # rad/s\r\nmin_vel_theta: -1.0         # rad/s\r\nacc_lim_x: 0.5              # m/s\xb2\r\nacc_lim_theta: 1.0          # rad/s\xb2\n"})}),"\n",(0,i.jsx)(n.h4,{id:"comportamento-de-recovery",children:"Comportamento de Recovery"}),"\n",(0,i.jsx)(n.p,{children:"Quando o rob\xf4 fica preso:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clear costmap"}),": Limpa obst\xe1culos tempor\xe1rios"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rotate recovery"}),": Gira 360\xb0 para ver ao redor"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Back up"}),": Move para tr\xe1s se necess\xe1rio"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Abort"}),": Aborta objetivo se imposs\xedvel"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"detec\xe7\xe3o-e-desvio-de-obst\xe1culos",children:"Detec\xe7\xe3o e Desvio de Obst\xe1culos"}),"\n",(0,i.jsx)(n.h3,{id:"costmap-2d",children:"Costmap 2D"}),"\n",(0,i.jsx)(n.p,{children:"Sistema de duas camadas para representar obst\xe1culos:"}),"\n",(0,i.jsx)(n.h4,{id:"costmap-local-planejamento-local",children:"Costmap Local (Planejamento Local)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tamanho"}),": 4m x 4m"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resolu\xe7\xe3o"}),": 2.5 cm"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Atualiza\xe7\xe3o"}),": 5 Hz"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Camadas"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Obstacle Layer"}),": Obst\xe1culos do LIDAR"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inflation Layer"}),": Zona de seguran\xe7a ao redor"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"costmap-global-planejamento-global",children:"Costmap Global (Planejamento Global)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tamanho"}),": Igual ao mapa carregado"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resolu\xe7\xe3o"}),": 5 cm"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Atualiza\xe7\xe3o"}),": 1 Hz"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Camadas"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Static Layer"}),": Mapa est\xe1tico"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Obstacle Layer"}),": Obst\xe1culos din\xe2micos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inflation Layer"}),": Infla\xe7\xe3o de seguran\xe7a"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"zona-de-seguran\xe7a",children:"Zona de Seguran\xe7a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"robot_radius: 0.20          # Raio do rob\xf4 (m)\r\ninflation_radius: 0.55      # Raio de infla\xe7\xe3o (m)\r\ncost_scaling_factor: 10.0   # Fator de escala do custo\n"})}),"\n",(0,i.jsx)(n.p,{children:"O rob\xf4 mant\xe9m:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"0-20 cm"}),": Zona do rob\xf4 (custo 254 - letal)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"20-55 cm"}),": Zona de infla\xe7\xe3o (custo 253-1 - decrescente)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:">55 cm"}),": Zona livre (custo 0)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"fus\xe3o-sensorial-robot-localization",children:"Fus\xe3o Sensorial (Robot Localization)"}),"\n",(0,i.jsx)(n.h3,{id:"extended-kalman-filter-ekf",children:"Extended Kalman Filter (EKF)"}),"\n",(0,i.jsx)(n.p,{children:"Combina m\xfaltiplas fontes de dados para odometria precisa."}),"\n",(0,i.jsx)(n.h4,{id:"fontes-de-dados",children:"Fontes de Dados"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Odometria das rodas"})," (",(0,i.jsx)(n.code,{children:"/odom_wheels"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Posi\xe7\xe3o (x, y)"}),"\n",(0,i.jsx)(n.li,{children:"Velocidade linear"}),"\n",(0,i.jsx)(n.li,{children:"Frequ\xeancia: 50 Hz"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"IMU"})," (",(0,i.jsx)(n.code,{children:"/imu/data"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Orienta\xe7\xe3o (roll, pitch, yaw)"}),"\n",(0,i.jsx)(n.li,{children:"Velocidade angular"}),"\n",(0,i.jsx)(n.li,{children:"Acelera\xe7\xe3o linear"}),"\n",(0,i.jsx)(n.li,{children:"Frequ\xeancia: 100 Hz"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"configura\xe7\xe3o-do-ekf",children:"Configura\xe7\xe3o do EKF"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"odom0: /odom_wheels\r\nodom0_config: [true,  true,  false,   # x, y, z\r\n               false, false, true,    # roll, pitch, yaw\r\n               true,  true,  false,   # vx, vy, vz\r\n               false, false, true,    # vroll, vpitch, vyaw\r\n               false, false, false]   # ax, ay, az\r\n\r\nimu0: /imu/data\r\nimu0_config: [false, false, false,    # x, y, z\r\n              true,  true,  true,     # roll, pitch, yaw\r\n              false, false, false,    # vx, vy, vz\r\n              true,  true,  true,     # vroll, vpitch, vyaw\r\n              false, false, false]    # ax, ay, az\n"})}),"\n",(0,i.jsx)(n.h4,{id:"resultados",children:"Resultados"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Drift de odometria reduzido em ~40%"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Estimativa de orienta\xe7\xe3o est\xe1vel"})," (IMU compensa derrapagens)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Odometria filtrada"})," publicada em ",(0,i.jsx)(n.code,{children:"/odometry/filtered"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"processamento-de-imagem-b\xe1sico",children:"Processamento de Imagem (B\xe1sico)"}),"\n",(0,i.jsx)(n.admonition,{title:"Capacidade Limitada",type:"note",children:(0,i.jsx)(n.p,{children:"O rob\xf4 de 1\xaa gera\xe7\xe3o tem capacidade limitada de processamento de imagem devido ao hardware (Raspberry Pi 4)."})}),"\n",(0,i.jsx)(n.h3,{id:"funcionalidades-implementadas",children:"Funcionalidades Implementadas"}),"\n",(0,i.jsx)(n.h4,{id:"detec\xe7\xe3o-de-cor",children:"Detec\xe7\xe3o de Cor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Exemplo: Detec\xe7\xe3o de objeto vermelho\r\nimport cv2\r\nimport numpy as np\r\n\r\n# Converter para HSV\r\nhsv = cv2.cvtColor(frame, HSV)\r\n\r\n# Definir range de cor\r\nlower_red = np.array([0, 100, 100])\r\nupper_red = np.array([10, 255, 255])\r\n\r\n# Criar m\xe1scara\r\nmask = cv2.inRange(hsv, lower_red, upper_red)\r\n\r\n# Encontrar contornos\r\ncontours, _ = cv2.findContours(mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"detec\xe7\xe3o-de-linhas-hough-transform",children:"Detec\xe7\xe3o de Linhas (Hough Transform)"}),"\n",(0,i.jsx)(n.p,{children:"Usado para seguir linhas ou detectar corredores:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"edges = cv2.Canny(gray, 50, 150)\r\nlines = cv2.HoughLinesP(edges, 1, np.pi/180, 100, minLineLength=100, maxLineGap=10)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"detec\xe7\xe3o-de-aruco-markers",children:"Detec\xe7\xe3o de ArUco Markers"}),"\n",(0,i.jsx)(n.p,{children:"Marcadores fiduciais para localiza\xe7\xe3o precisa:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Launch c\xe2mera + detector\r\nroslaunch robodc_sensors aruco_detect.launch\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Desempenho"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Resolu\xe7\xe3o: 640x480 @ 30 FPS"}),"\n",(0,i.jsx)(n.li,{children:"Lat\xeancia: ~100ms"}),"\n",(0,i.jsx)(n.li,{children:"Alcance de detec\xe7\xe3o ArUco: 0.5-3 metros"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"telopera\xe7\xe3o",children:"Telopera\xe7\xe3o"}),"\n",(0,i.jsx)(n.h3,{id:"controle-por-teclado",children:"Controle por Teclado"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rosrun teleop_twist_keyboard teleop_twist_keyboard.py\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Teclas"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"i"}),": Frente"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"k"}),": Parar"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:","}),": R\xe9"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"j"}),": Girar esquerda"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"l"}),": Girar direita"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"q/z"}),": Aumentar/diminuir velocidade m\xe1xima"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"controle-por-joystick-opcional",children:"Controle por Joystick (Opcional)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"roslaunch robodc_control joy_teleop.launch\n"})}),"\n",(0,i.jsx)(n.h2,{id:"limita\xe7\xf5es-funcionais",children:"Limita\xe7\xf5es Funcionais"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Navega\xe7\xe3o 2D apenas"}),": N\xe3o detecta obst\xe1culos suspensos ou buracos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ambientes internos"}),": LIDAR 2D funciona melhor em ambientes estruturados"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Velocidade limitada"}),": 0.5 m/s m\xe1ximo para navega\xe7\xe3o segura"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Processamento de imagem b\xe1sico"}),": Sem deep learning em tempo real"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Depend\xeancia do roscore"}),": Sistema para se roscore falhar\r\n[Se implementado, descrever]"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"processamento-de-lidar",children:"Processamento de LIDAR"}),"\n",(0,i.jsx)(n.h4,{id:"filtragem-de-dados",children:"Filtragem de Dados"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Remo\xe7\xe3o de ru\xeddo"}),"\n",(0,i.jsx)(n.li,{children:"Downsampling"}),"\n",(0,i.jsx)(n.li,{children:"Filtro de outliers"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"extra\xe7\xe3o-de-features",children:"Extra\xe7\xe3o de Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Detec\xe7\xe3o de linhas"}),"\n",(0,i.jsx)(n.li,{children:"Identifica\xe7\xe3o de cantos"}),"\n",(0,i.jsx)(n.li,{children:"Agrupamento de pontos"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"fus\xe3o-sensorial",children:"Fus\xe3o Sensorial"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"C\xe2mera \u2500\u2500\u2500\u2500\u2500\u2510\r\n            \u251c\u2500\u2500\u25ba Fus\xe3o \u2500\u2500\u25ba Modelo do Mundo\r\nLIDAR \u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n            \u2502\r\nIMU \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"M\xe9todo"}),": Kalman Filter / Particle Filter"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Estado Estimado"}),": Pose, velocidade, acelera\xe7\xe3o"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Taxa de Atualiza\xe7\xe3o"}),": [Hz]"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"estrat\xe9gias-de-seguran\xe7afallback",children:"Estrat\xe9gias de Seguran\xe7a/Fallback"}),"\n",(0,i.jsx)(n.h3,{id:"n\xedveis-de-seguran\xe7a",children:"N\xedveis de Seguran\xe7a"}),"\n",(0,i.jsx)(n.h4,{id:"n\xedvel-1-opera\xe7\xe3o-normal",children:"N\xedvel 1: Opera\xe7\xe3o Normal"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Todos os sistemas funcionando"}),"\n",(0,i.jsx)(n.li,{children:"Navega\xe7\xe3o aut\xf4noma ativa"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"n\xedvel-2-modo-degradado",children:"N\xedvel 2: Modo Degradado"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Condi\xe7\xf5es de Ativa\xe7\xe3o"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Perda de sensor secund\xe1rio"}),"\n",(0,i.jsx)(n.li,{children:"Bateria em n\xedvel de aten\xe7\xe3o (< 30%)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Comportamento"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reduzir velocidade m\xe1xima"}),"\n",(0,i.jsx)(n.li,{children:"Aumentar margem de seguran\xe7a"}),"\n",(0,i.jsx)(n.li,{children:"Notificar operador"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"n\xedvel-3-parada-de-seguran\xe7a",children:"N\xedvel 3: Parada de Seguran\xe7a"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Condi\xe7\xf5es de Ativa\xe7\xe3o"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Perda de sensor cr\xedtico (LIDAR)"}),"\n",(0,i.jsx)(n.li,{children:"Bateria cr\xedtica (< 10%)"}),"\n",(0,i.jsx)(n.li,{children:"Erro de comunica\xe7\xe3o com motor"}),"\n",(0,i.jsx)(n.li,{children:"Comando de emerg\xeancia"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Comportamento"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Parada controlada imediata"}),"\n",(0,i.jsx)(n.li,{children:"Desabilitar motores ap\xf3s parada"}),"\n",(0,i.jsx)(n.li,{children:"Acionar alerta sonoro/visual"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"sistema-de-watchdog",children:"Sistema de Watchdog"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class SafetyWatchdog:\r\n    def __init__(self):\r\n        self.last_lidar_time = rospy.Time.now()\r\n        self.last_cmd_time = rospy.Time.now()\r\n        \r\n    def check_sensors(self):\r\n        """Verifica se sensores est\xe3o publicando"""\r\n        if (rospy.Time.now() - self.last_lidar_time) > timeout:\r\n            self.trigger_emergency_stop()\r\n            \r\n    def check_communication(self):\r\n        """Verifica comunica\xe7\xe3o com controladores"""\r\n        # Implementa\xe7\xe3o\r\n        pass\n'})}),"\n",(0,i.jsx)(n.h3,{id:"recupera\xe7\xe3o-de-falhas",children:"Recupera\xe7\xe3o de Falhas"}),"\n",(0,i.jsx)(n.h4,{id:"falha-de-sensor",children:"Falha de Sensor"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Detectar falha (timeout ou valores inv\xe1lidos)"}),"\n",(0,i.jsx)(n.li,{children:"Isolar sensor com problema"}),"\n",(0,i.jsx)(n.li,{children:"Ativar modo degradado"}),"\n",(0,i.jsx)(n.li,{children:"Tentar reconex\xe3o"}),"\n",(0,i.jsx)(n.li,{children:"Se recuperado, retornar \xe0 opera\xe7\xe3o normal"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"falha-de-comunica\xe7\xe3o",children:"Falha de Comunica\xe7\xe3o"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Detectar perda de comunica\xe7\xe3o"}),"\n",(0,i.jsx)(n.li,{children:"Executar \xfaltimo comando seguro (geralmente parar)"}),"\n",(0,i.jsx)(n.li,{children:"Tentar restabelecer comunica\xe7\xe3o"}),"\n",(0,i.jsx)(n.li,{children:"Timeout m\xe1ximo: [X segundos]"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"falha-de-bateria",children:"Falha de Bateria"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Monitoramento cont\xednuo de voltagem"}),"\n",(0,i.jsx)(n.li,{children:"Aviso em 30%"}),"\n",(0,i.jsx)(n.li,{children:"Alerta em 20%"}),"\n",(0,i.jsx)(n.li,{children:"Modo seguro em 10%"}),"\n",(0,i.jsx)(n.li,{children:"Parada e desligamento em 5%"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"limites-operacionais",children:"Limites Operacionais"}),"\n",(0,i.jsx)(n.h4,{id:"limites-f\xedsicos",children:"Limites F\xedsicos"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inclina\xe7\xe3o m\xe1xima"}),": [Graus]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Altura m\xe1xima de obst\xe1culo"}),": [cm]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Velocidade do vento m\xe1xima"}),": [Se outdoor]"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"limites-ambientais",children:"Limites Ambientais"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Temperatura de opera\xe7\xe3o"}),": [Min - Max \xb0C]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Umidade"}),": [%]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ilumina\xe7\xe3o"}),": [Lux m\xednimo para c\xe2mera]"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"modo-manual-de-emerg\xeancia",children:"Modo Manual de Emerg\xeancia"}),"\n",(0,i.jsx)(n.h4,{id:"ativa\xe7\xe3o",children:"Ativa\xe7\xe3o"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Bot\xe3o f\xedsico de emerg\xeancia"}),"\n",(0,i.jsx)(n.li,{children:"Comando remoto"}),"\n",(0,i.jsx)(n.li,{children:"Detec\xe7\xe3o autom\xe1tica de situa\xe7\xe3o cr\xedtica"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"comportamento-1",children:"Comportamento"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Desativa navega\xe7\xe3o aut\xf4noma"}),"\n",(0,i.jsx)(n.li,{children:"Permite controle manual direto"}),"\n",(0,i.jsx)(n.li,{children:"Mant\xe9m sistemas de seguran\xe7a ativos"}),"\n",(0,i.jsx)(n.li,{children:"Log de evento"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"monitoramento-e-diagn\xf3stico",children:"Monitoramento e Diagn\xf3stico"}),"\n",(0,i.jsx)(n.h3,{id:"sistema-de-logs",children:"Sistema de Logs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Logs s\xe3o salvos em\r\n~/.ros/log/\r\n\r\n# Ver logs em tempo real\r\nrostopic echo /diagnostics\n"})}),"\n",(0,i.jsx)(n.h3,{id:"diagn\xf3stico-ros",children:"Diagn\xf3stico ROS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from diagnostic_msgs.msg import DiagnosticArray, DiagnosticStatus\r\n\r\n# Publicar status de diagn\xf3stico\r\ndiag_pub = rospy.Publisher('/diagnostics', DiagnosticArray, queue_size=10)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"m\xe9tricas-monitoradas",children:"M\xe9tricas Monitoradas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Taxa de publica\xe7\xe3o de t\xf3picos"}),"\n",(0,i.jsx)(n.li,{children:"Uso de CPU e mem\xf3ria"}),"\n",(0,i.jsx)(n.li,{children:"Temperatura dos componentes"}),"\n",(0,i.jsx)(n.li,{children:"Estado da bateria"}),"\n",(0,i.jsx)(n.li,{children:"Lat\xeancia de comunica\xe7\xe3o"}),"\n",(0,i.jsx)(n.li,{children:"Erros de sensores"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"testes-de-funcionalidades",children:"Testes de Funcionalidades"}),"\n",(0,i.jsx)(n.h3,{id:"testes-automatizados",children:"Testes Automatizados"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Executar suite de testes\r\nrostest robodc_navigation test_navigation.test\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cen\xe1rios-de-teste",children:"Cen\xe1rios de Teste"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Navega\xe7\xe3o Ponto-a-Ponto"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Desvio de Obst\xe1culos Din\xe2micos"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Recupera\xe7\xe3o de Falhas"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Parada de Emerg\xeancia"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Opera\xe7\xe3o com Sensores Degradados"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>l,x:()=>o});var s=a(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);