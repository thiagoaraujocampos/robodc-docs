"use strict";(globalThis.webpackChunkrobodc_docs=globalThis.webpackChunkrobodc_docs||[]).push([[2017],{3863:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"robo-2gen/software/arquitetura-ros2","title":"Arquitetura ROS 2","description":"Vis\xe3o Geral","source":"@site/docs/robo-2gen/software/arquitetura-ros2.md","sourceDirName":"robo-2gen/software","slug":"/robo-2gen/software/arquitetura-ros2","permalink":"/robodc-docs/robo-2gen/software/arquitetura-ros2","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/robo-2gen/software/arquitetura-ros2.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Hardware - 2\xaa Gera\xe7\xe3o","permalink":"/robodc-docs/robo-2gen/hardware"},"next":{"title":"Comunica\xe7\xe3o - 2\xaa Gera\xe7\xe3o","permalink":"/robodc-docs/robo-2gen/comunicacao"}}');var i=n(4848),a=n(8453);const o={sidebar_position:1},t="Arquitetura ROS 2",c={},d=[{value:"Vis\xe3o Geral",id:"vis\xe3o-geral",level:2},{value:"Principais Diferen\xe7as vs ROS 1",id:"principais-diferen\xe7as-vs-ros-1",level:2},{value:"N\xf3s Principais",id:"n\xf3s-principais",level:2},{value:"Diagrama de Arquitetura",id:"diagrama-de-arquitetura",level:3},{value:"N\xf3s Lifecycle",id:"n\xf3s-lifecycle",level:3},{value:"T\xf3picos e QoS",id:"t\xf3picos-e-qos",level:2},{value:"Configura\xe7\xe3o de QoS",id:"configura\xe7\xe3o-de-qos",level:3},{value:"T\xf3picos Principais",id:"t\xf3picos-principais",level:3},{value:"Servi\xe7os e Actions",id:"servi\xe7os-e-actions",level:2},{value:"Servi\xe7os ROS 2",id:"servi\xe7os-ros-2",level:3},{value:"Actions (Nav2)",id:"actions-nav2",level:3},{value:"Nav2 (Navigation 2)",id:"nav2-navigation-2",level:2},{value:"Arquitetura Nav2",id:"arquitetura-nav2",level:3},{value:"Behavior Trees",id:"behavior-trees",level:3},{value:"Components (Composable Nodes)",id:"components-composable-nodes",level:2},{value:"Par\xe2metros",id:"par\xe2metros",level:2},{value:"Arquivo de Par\xe2metros YAML",id:"arquivo-de-par\xe2metros-yaml",level:3},{value:"Carregar Par\xe2metros",id:"carregar-par\xe2metros",level:3},{value:"Transforma\xe7\xf5es (TF2)",id:"transforma\xe7\xf5es-tf2",level:2},{value:"Publicar TF2",id:"publicar-tf2",level:3},{value:"Launch System (Python)",id:"launch-system-python",level:2},{value:"Launch File Exemplo",id:"launch-file-exemplo",level:3},{value:"Diagn\xf3sticos",id:"diagn\xf3sticos",level:2},{value:"Publicar Diagn\xf3sticos",id:"publicar-diagn\xf3sticos",level:3},{value:"Compara\xe7\xe3o de Performance",id:"compara\xe7\xe3o-de-performance",level:2},{value:"Lat\xeancia",id:"lat\xeancia",level:3},{value:"Throughput",id:"throughput",level:3}];function l(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"arquitetura-ros-2",children:"Arquitetura ROS 2"})}),"\n",(0,i.jsx)(r.h2,{id:"vis\xe3o-geral",children:"Vis\xe3o Geral"}),"\n",(0,i.jsx)(r.p,{children:"A arquitetura da 2\xaa gera\xe7\xe3o utiliza ROS 2 Humble com comunica\xe7\xe3o DDS e suporte a lifecycle nodes."}),"\n",(0,i.jsx)(r.h2,{id:"principais-diferen\xe7as-vs-ros-1",children:"Principais Diferen\xe7as vs ROS 1"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Aspecto"}),(0,i.jsx)(r.th,{children:"ROS 1"}),(0,i.jsx)(r.th,{children:"ROS 2"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Comunica\xe7\xe3o"})}),(0,i.jsx)(r.td,{children:"TCPROS"}),(0,i.jsx)(r.td,{children:"DDS (Data Distribution Service)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Master"})}),(0,i.jsx)(r.td,{children:"Centralizado (roscore)"}),(0,i.jsx)(r.td,{children:"Descentralizado"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Tempo Real"})}),(0,i.jsx)(r.td,{children:"Limitado"}),(0,i.jsx)(r.td,{children:"Suporte nativo"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"QoS"})}),(0,i.jsx)(r.td,{children:"Fixo"}),(0,i.jsx)(r.td,{children:"Configur\xe1vel"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Seguran\xe7a"})}),(0,i.jsx)(r.td,{children:"Limitada"}),(0,i.jsx)(r.td,{children:"Nativa (SROS2)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Linguagens"})}),(0,i.jsx)(r.td,{children:"Principalmente C++/Python"}),(0,i.jsx)(r.td,{children:"M\xfaltiplas (C++, Python, Rust, etc)"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"n\xf3s-principais",children:"N\xf3s Principais"}),"\n",(0,i.jsx)(r.h3,{id:"diagrama-de-arquitetura",children:"Diagrama de Arquitetura"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502         DDS Domain (sem Master)            \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n           \u2502\r\n           \u251c\u2500\u2500\u2500\u2500 /camera_node (lifecycle)\r\n           \u2502         \u2502 publishes: /camera/image_raw\r\n           \u2502         \u2502            /camera/camera_info\r\n           \u2502\r\n           \u251c\u2500\u2500\u2500\u2500 /lidar_node (lifecycle)\r\n           \u2502         \u2502 publishes: /scan\r\n           \u2502\r\n           \u251c\u2500\u2500\u2500\u2500 /imu_node\r\n           \u2502         \u2502 publishes: /imu/data\r\n           \u2502\r\n           \u251c\u2500\u2500\u2500\u2500 /controller_manager\r\n           \u2502         \u2502 manages: controllers\r\n           \u2502         \u2502 publishes: /odom\r\n           \u2502\r\n           \u251c\u2500\u2500\u2500\u2500 /bt_navigator (Nav2)\r\n           \u2502         \u2502 uses: behavior trees\r\n           \u2502         \u2502 actions: /navigate_to_pose\r\n           \u2502\r\n           \u2514\u2500\u2500\u2500\u2500 /lifecycle_manager\r\n                     \u2502 manages: node states\n"})}),"\n",(0,i.jsx)(r.h3,{id:"n\xf3s-lifecycle",children:"N\xf3s Lifecycle"}),"\n",(0,i.jsx)(r.p,{children:"ROS 2 permite gerenciar estados dos n\xf3s:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"Unconfigured \u2192 Configure \u2192 Inactive \u2192 Activate \u2192 Active\r\n                                \u2193                   \u2193\r\n                           Cleanup          Deactivate\n"})}),"\n",(0,i.jsx)(r.p,{children:"Exemplo de n\xf3 lifecycle:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from rclpy.lifecycle import Node, State, TransitionCallbackReturn\r\n\r\nclass MyLifecycleNode(Node):\r\n    def on_configure(self, state: State) -> TransitionCallbackReturn:\r\n        # Configurar recursos\r\n        return TransitionCallbackReturn.SUCCESS\r\n    \r\n    def on_activate(self, state: State) -> TransitionCallbackReturn:\r\n        # Ativar publica\xe7\xe3o/subscri\xe7\xe3o\r\n        return TransitionCallbackReturn.SUCCESS\n"})}),"\n",(0,i.jsx)(r.h2,{id:"t\xf3picos-e-qos",children:"T\xf3picos e QoS"}),"\n",(0,i.jsx)(r.h3,{id:"configura\xe7\xe3o-de-qos",children:"Configura\xe7\xe3o de QoS"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy, HistoryPolicy\r\n\r\n# QoS para sensores (best effort, volatile)\r\nsensor_qos = QoSProfile(\r\n    reliability=ReliabilityPolicy.BEST_EFFORT,\r\n    durability=DurabilityPolicy.VOLATILE,\r\n    history=HistoryPolicy.KEEP_LAST,\r\n    depth=10\r\n)\r\n\r\n# QoS para comandos (reliable, transient local)\r\ncommand_qos = QoSProfile(\r\n    reliability=ReliabilityPolicy.RELIABLE,\r\n    durability=DurabilityPolicy.TRANSIENT_LOCAL,\r\n    history=HistoryPolicy.KEEP_LAST,\r\n    depth=1\r\n)\n"})}),"\n",(0,i.jsx)(r.h3,{id:"t\xf3picos-principais",children:"T\xf3picos Principais"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"T\xf3pico"}),(0,i.jsx)(r.th,{children:"Tipo"}),(0,i.jsx)(r.th,{children:"QoS"}),(0,i.jsx)(r.th,{children:"Frequ\xeancia"}),(0,i.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/scan"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"sensor_msgs/LaserScan"})}),(0,i.jsx)(r.td,{children:"Sensor"}),(0,i.jsx)(r.td,{children:"10 Hz"}),(0,i.jsx)(r.td,{children:"LIDAR"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/camera/image_raw"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"sensor_msgs/Image"})}),(0,i.jsx)(r.td,{children:"Sensor"}),(0,i.jsx)(r.td,{children:"30 Hz"}),(0,i.jsx)(r.td,{children:"C\xe2mera"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/imu/data"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"sensor_msgs/Imu"})}),(0,i.jsx)(r.td,{children:"Sensor"}),(0,i.jsx)(r.td,{children:"100 Hz"}),(0,i.jsx)(r.td,{children:"IMU"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/odom"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"nav_msgs/Odometry"})}),(0,i.jsx)(r.td,{children:"Reliable"}),(0,i.jsx)(r.td,{children:"50 Hz"}),(0,i.jsx)(r.td,{children:"Odometria"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/cmd_vel"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"geometry_msgs/Twist"})}),(0,i.jsx)(r.td,{children:"Reliable"}),(0,i.jsx)(r.td,{children:"10 Hz"}),(0,i.jsx)(r.td,{children:"Comandos"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/map"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"nav_msgs/OccupancyGrid"})}),(0,i.jsx)(r.td,{children:"Transient"}),(0,i.jsx)(r.td,{children:"1 Hz"}),(0,i.jsx)(r.td,{children:"Mapa"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"servi\xe7os-e-actions",children:"Servi\xe7os e Actions"}),"\n",(0,i.jsx)(r.h3,{id:"servi\xe7os-ros-2",children:"Servi\xe7os ROS 2"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"# Exemplo de servi\xe7o\r\nfrom example_interfaces.srv import SetBool\r\n\r\ndef set_mode_callback(request, response):\r\n    response.success = True\r\n    response.message = \"Mode changed\"\r\n    return response\r\n\r\nservice = node.create_service(SetBool, 'set_mode', set_mode_callback)\n"})}),"\n",(0,i.jsx)(r.h3,{id:"actions-nav2",children:"Actions (Nav2)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from nav2_msgs.action import NavigateToPose\r\n\r\n# Cliente de action\r\naction_client = ActionClient(node, NavigateToPose, 'navigate_to_pose')\r\n\r\n# Enviar goal\r\ngoal_msg = NavigateToPose.Goal()\r\ngoal_msg.pose.header.frame_id = 'map'\r\ngoal_msg.pose.pose.position.x = 2.0\r\ngoal_msg.pose.pose.position.y = 1.0\r\n\r\naction_client.send_goal_async(goal_msg)\n"})}),"\n",(0,i.jsx)(r.h2,{id:"nav2-navigation-2",children:"Nav2 (Navigation 2)"}),"\n",(0,i.jsx)(r.h3,{id:"arquitetura-nav2",children:"Arquitetura Nav2"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502           BT Navigator                  \u2502\r\n\u2502  (Behavior Tree based navigation)      \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n               \u2502\r\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n    \u2502                     \u2502\r\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502Planner \u2502        \u2502 Controller \u2502\r\n\u2502Server  \u2502        \u2502   Server   \u2502\r\n\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\r\n    \u2502                    \u2502\r\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n             \u2502\r\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n    \u2502  Costmap 2D     \u2502\r\n    \u2502  (local/global) \u2502\r\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(r.h3,{id:"behavior-trees",children:"Behavior Trees"}),"\n",(0,i.jsx)(r.p,{children:"Nav2 usa behavior trees para l\xf3gica complexa:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'<root main_tree_to_execute="MainTree">\r\n  <BehaviorTree ID="MainTree">\r\n    <Sequence>\r\n      <ComputePathToPose goal="{goal}"/>\r\n      <FollowPath path="{path}"/>\r\n    </Sequence>\r\n  </BehaviorTree>\r\n</root>\n'})}),"\n",(0,i.jsx)(r.h2,{id:"components-composable-nodes",children:"Components (Composable Nodes)"}),"\n",(0,i.jsx)(r.p,{children:"ROS 2 permite compor m\xfaltiplos n\xf3s em um processo:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from rclpy.node import Node\r\nfrom rclpy.executors import SingleThreadedExecutor\r\n\r\n# Criar m\xfaltiplos componentes em um container\r\nexecutor = SingleThreadedExecutor()\r\nexecutor.add_node(node1)\r\nexecutor.add_node(node2)\r\nexecutor.spin()\n"})}),"\n",(0,i.jsx)(r.p,{children:"Benef\xedcios:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Menor overhead de comunica\xe7\xe3o"}),"\n",(0,i.jsx)(r.li,{children:"Melhor performance"}),"\n",(0,i.jsx)(r.li,{children:"Uso mais eficiente de recursos"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"par\xe2metros",children:"Par\xe2metros"}),"\n",(0,i.jsx)(r.h3,{id:"arquivo-de-par\xe2metros-yaml",children:"Arquivo de Par\xe2metros YAML"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",children:"/**:\r\n  ros__parameters:\r\n    use_sim_time: false\r\n    \r\nnavigation_node:\r\n  ros__parameters:\r\n    max_speed: 1.0\r\n    goal_tolerance: 0.1\r\n    controller_frequency: 10.0\n"})}),"\n",(0,i.jsx)(r.h3,{id:"carregar-par\xe2metros",children:"Carregar Par\xe2metros"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"ros2 run pkg node --ros-args --params-file params.yaml\n"})}),"\n",(0,i.jsx)(r.h2,{id:"transforma\xe7\xf5es-tf2",children:"Transforma\xe7\xf5es (TF2)"}),"\n",(0,i.jsx)(r.p,{children:"\xc1rvore TF similar \xe0 1\xaa gera\xe7\xe3o, mas com melhor performance:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"map\r\n \u2514\u2500\u2500 odom\r\n      \u2514\u2500\u2500 base_link\r\n           \u251c\u2500\u2500 base_footprint\r\n           \u251c\u2500\u2500 camera_link\r\n           \u2502    \u2514\u2500\u2500 camera_optical_frame\r\n           \u251c\u2500\u2500 lidar_link\r\n           \u2514\u2500\u2500 imu_link\n"})}),"\n",(0,i.jsx)(r.h3,{id:"publicar-tf2",children:"Publicar TF2"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from tf2_ros import TransformBroadcaster\r\nfrom geometry_msgs.msg import TransformStamped\r\n\r\nbroadcaster = TransformBroadcaster(node)\r\n\r\nt = TransformStamped()\r\nt.header.stamp = node.get_clock().now().to_msg()\r\nt.header.frame_id = 'odom'\r\nt.child_frame_id = 'base_link'\r\n# ... preencher transform\r\n\r\nbroadcaster.sendTransform(t)\n"})}),"\n",(0,i.jsx)(r.h2,{id:"launch-system-python",children:"Launch System (Python)"}),"\n",(0,i.jsx)(r.h3,{id:"launch-file-exemplo",children:"Launch File Exemplo"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription\r\nfrom launch.conditions import IfCondition\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    use_sim_time = LaunchConfiguration('use_sim_time')\r\n    \r\n    return LaunchDescription([\r\n        DeclareLaunchArgument('use_sim_time', default_value='false'),\r\n        \r\n        Node(\r\n            package='robodc_perception',\r\n            executable='camera_node',\r\n            name='camera',\r\n            parameters=[{'use_sim_time': use_sim_time}],\r\n            remappings=[('/image', '/camera/image_raw')],\r\n            condition=IfCondition(LaunchConfiguration('enable_camera'))\r\n        ),\r\n    ])\n"})}),"\n",(0,i.jsx)(r.h2,{id:"diagn\xf3sticos",children:"Diagn\xf3sticos"}),"\n",(0,i.jsx)(r.h3,{id:"publicar-diagn\xf3sticos",children:"Publicar Diagn\xf3sticos"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:'from diagnostic_updater import Updater, DiagnosticStatusWrapper\r\n\r\nupdater = Updater(node)\r\nupdater.setHardwareID("robodc_2gen")\r\n\r\ndef check_sensor(stat: DiagnosticStatusWrapper):\r\n    if sensor_ok:\r\n        stat.summary(DiagnosticStatusWrapper.OK, "Sensor working")\r\n    else:\r\n        stat.summary(DiagnosticStatusWrapper.ERROR, "Sensor failure")\r\n    stat.add("Temperature", temp)\r\n    return stat\r\n\r\nupdater.add("Sensor Check", check_sensor)\n'})}),"\n",(0,i.jsx)(r.h2,{id:"compara\xe7\xe3o-de-performance",children:"Compara\xe7\xe3o de Performance"}),"\n",(0,i.jsx)(r.h3,{id:"lat\xeancia",children:"Lat\xeancia"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Cen\xe1rio"}),(0,i.jsx)(r.th,{children:"ROS 1"}),(0,i.jsx)(r.th,{children:"ROS 2"}),(0,i.jsx)(r.th,{children:"Melhoria"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Intra-process"}),(0,i.jsx)(r.td,{children:"~10 ms"}),(0,i.jsx)(r.td,{children:"~1 ms"}),(0,i.jsx)(r.td,{children:"10x"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Inter-process"}),(0,i.jsx)(r.td,{children:"~5 ms"}),(0,i.jsx)(r.td,{children:"~3 ms"}),(0,i.jsx)(r.td,{children:"1.7x"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"throughput",children:"Throughput"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Tipo de Dados"}),(0,i.jsx)(r.th,{children:"ROS 1"}),(0,i.jsx)(r.th,{children:"ROS 2"}),(0,i.jsx)(r.th,{children:"Melhoria"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Pequenas msgs"}),(0,i.jsx)(r.td,{children:"X MB/s"}),(0,i.jsx)(r.td,{children:"Y MB/s"}),(0,i.jsx)(r.td,{children:"Z%"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Grandes msgs"}),(0,i.jsx)(r.td,{children:"X MB/s"}),(0,i.jsx)(r.td,{children:"Y MB/s"}),(0,i.jsx)(r.td,{children:"Z%"})]})]})]})]})}function h(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>t});var s=n(6540);const i={},a=s.createContext(i);function o(e){const r=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:r},e.children)}}}]);